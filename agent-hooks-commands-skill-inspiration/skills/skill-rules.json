{
  "version": "1.1",
  "description": "Skill activation rules for Maestro Conductor System. Includes subagent routing for progressive disclosure.",
  "subagents": {
    "file-opener": {
      "type": "orchestrator",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Subagent that opens files, detects intent, and delegates to specialist skills. Preserves main context.",
      "agentPath": ".claude/agents/file-opener.md",
      "promptTriggers": {
        "keywords": [
          "open file",
          "read file",
          "show file",
          "check file",
          "review file",
          "analyze file",
          "open",
          "read",
          "show me",
          "check",
          "review",
          "look at",
          "examine"
        ],
        "intentPatterns": [
          "(open|read|show|check|review|analyze|look at|examine).*(file|this|that)",
          "(what's in|what is in|show me).*(file|this|that)",
          "(file|files).*(open|read|show|check)"
        ]
      },
      "delegation": {
        "description": "Main Claude spawns this subagent for file operations. Subagent uses skill registry to find and apply specialist skills.",
        "preservesContext": true,
        "returnsFormat": "Structured summary with findings and evidence"
      }
    }
  },
  "skills": {
    "skill-developer": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Meta-skill for creating Maestro-compatible skills",
      "promptTriggers": {
        "keywords": [
          "create skill",
          "add skill",
          "skill system",
          "skill triggers",
          "skill rules",
          "hook system",
          "skill-rules.json",
          "skill activation"
        ],
        "intentPatterns": [
          "(how do|how does|explain).*?skill",
          "(create|add|modify|build).*?skill",
          "skill.*(work|trigger|activate)"
        ]
      }
    },
    "4d-evaluation": {
      "type": "guardrail",
      "enforcement": "suggest",
      "priority": "critical",
      "description": "Maestro's quality gate for evaluating outputs before implementation",
      "promptTriggers": {
        "keywords": [
          "evaluate",
          "review output",
          "quality check",
          "4-D evaluation",
          "discernment",
          "quality gate",
          "evaluate output",
          "before implementing"
        ],
        "intentPatterns": [
          "(evaluate|review|assess).*?(output|result|work|implementation)",
          "(before|prior to).*(implement|proceed|continue)",
          "quality.*(gate|check|standard)"
        ]
      }
    },
    "gemini-delegator": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Delegate heavy context tasks to Gemini CLI for large-scale analysis",
      "promptTriggers": {
        "keywords": [
          "large codebase",
          "multi-file",
          "analyze files",
          "code review",
          "codebase analysis",
          "documentation processing",
          "multiple files",
          "large file",
          "gemini",
          "delegate"
        ],
        "intentPatterns": [
          "(analyze|review|process).*(codebase|files|documentation)",
          "(large|multiple|many).*(file|files)",
          "delegate.*(analysis|review|task)"
        ]
      }
    },
    "tools-skill": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Expert guidance for command-line tools and file operations",
      "promptTriggers": {
        "keywords": [
          "tool selection",
          "which tool",
          "file operations",
          "command syntax",
          "shell command",
          "read file",
          "write file",
          "edit file",
          "search files",
          "grep",
          "glob",
          "jq"
        ],
        "intentPatterns": [
          "(should I use|which tool|how do I).*(read|write|edit|search|find)",
          "(tool|command).*(select|choice|best)",
          "read.*(file|files)"
        ]
      }
    },
    "skill-wizard": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "An interactive wizard that guides you through creating a new Maestro-compatible skill.",
      "promptTriggers": {
        "keywords": [
          "create skill",
          "new skill",
          "skill wizard",
          "generate skill",
          "build skill"
        ],
        "intentPatterns": [
          "(create|generate|build).*?skill",
          "skill.*?(wizard|creator)"
        ]
      }
    },
    "on-demand-skill-creator": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "medium",
      "description": "A meta-skill that automatically generates a new skill or micro-skill when a user's request cannot be handled by existing capabilities. It analyzes the user's request, determines the necessary inputs, outputs, and processing steps, and then scaffolds a new, functional skill file to address the immediate need. Use this as a fallback when no other skill matches a user's query.",
      "promptTriggers": {
        "keywords": [
          "address",
          "analyzes",
          "and",
          "automated-development",
          "automatically",
          "cannot",
          "capabilities",
          "determines",
          "existing",
          "fallback",
          "file",
          "functional",
          "generates",
          "handled",
          "immediate",
          "inputs",
          "just-in-time-capabilities",
          "matches",
          "meta",
          "micro",
          "necessary",
          "need",
          "new",
          "other",
          "outputs",
          "processing",
          "prompt-analysis",
          "query",
          "request",
          "scaffolds",
          "skill",
          "skill-generation",
          "steps",
          "that",
          "the",
          "then",
          "this",
          "use",
          "user",
          "when"
        ],
        "intentPatterns": [
          "(a.*metaskill.*that.*automatically.*generates.*)"
        ]
      }
    },
    "file-opener-skill": {
      "type": "domain",
      "enforcement": "internal",
      "priority": "high",
      "description": "File opening methodology and strategies. Used BY file-opener subagent, not directly by main Claude.",
      "usedBy": "file-opener subagent",
      "capabilities": [
        "file-reference-parsing",
        "glob-pattern-matching",
        "natural-language-file-search",
        "intent-detection",
        "file-opening-strategies"
      ],
      "promptTriggers": {
        "keywords": [],
        "intentPatterns": [],
        "note": "Not triggered directly - loaded by file-opener subagent"
      }
    },
    "code-analysis": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Intelligent code analysis orchestrator with domain expertise in software engineering",
      "promptTriggers": {
        "keywords": [
          "analyze code",
          "review code",
          "code quality",
          "code patterns",
          "security",
          "vulnerabilities",
          "bugs",
          "issues",
          "refactor",
          "best practices"
        ],
        "intentPatterns": [
          "(analyze|review|check|audit).*(code|implementation|function|class)",
          "(find|detect).*(bug|issue|problem|vulnerability)",
          "(code).*(quality|pattern|smell)"
        ]
      }
    },
    "content-analysis": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Marketing content analysis orchestrator with domain expertise in brand voice, messaging, and SEO",
      "promptTriggers": {
        "keywords": [
          "marketing",
          "content",
          "brand voice",
          "messaging",
          "SEO",
          "readability",
          "tone",
          "audience"
        ],
        "intentPatterns": [
          "(analyze|review|check).*(content|copy|marketing|message)",
          "(brand|tone|voice).*(analysis|check)",
          "SEO.*(analysis|review)"
        ]
      }
    },
    "data-validation": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Data validation orchestrator with domain expertise in data quality, integrity, and schema compliance",
      "promptTriggers": {
        "keywords": [
          "validate",
          "data quality",
          "data integrity",
          "schema",
          "CSV",
          "JSON validation",
          "verify data"
        ],
        "intentPatterns": [
          "(validate|verify|check).*(data|CSV|JSON|dataset)",
          "(data).*(quality|integrity|validation)",
          "(schema).*(validate|check|compliance)"
        ]
      }
    },
    "file-writer": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "File writing orchestrator with domain expertise in safe file operations, backup strategies, validation, and error recovery",
      "promptTriggers": {
        "keywords": [
          "write file",
          "save file",
          "create file",
          "write to file",
          "save to disk",
          "write config",
          "save config",
          "write JSON",
          "save JSON",
          "write YAML",
          "save data",
          "create config",
          "output to file"
        ],
        "intentPatterns": [
          "(write|save|create|output).*(file|to disk|config|JSON|YAML|data)",
          "(put|store|persist).*(in file|to file|on disk|to disk)",
          "(save|write).*(this|that|content|data)"
        ]
      }
    }
  },
  "notes": {
    "maestro_philosophy": "This is a minimal starter configuration. Add your project-specific skills here.",
    "enforcement_types": {
      "suggest": "Skill suggestion appears but doesn't block execution",
      "block": "Requires skill to be used before proceeding (quality gates)",
      "warn": "Shows warning but allows proceeding"
    },
    "priority_levels": {
      "critical": "Highest - Excellence gates, must use",
      "high": "Important - Domain expertise, strongly recommended",
      "medium": "Moderate - Helpful guidance",
      "low": "Optional - Nice to have"
    },
    "customization": "Use skill-developer skill to create project-specific skills for your tech stack, domain, and patterns."
  }
}